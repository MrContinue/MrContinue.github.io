<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BSOJ1562 丑数 | Continue的博客</title>
<link rel="shortcut icon" href="https://MrContinue.github.io/favicon.ico?v=1586778467481">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://MrContinue.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="BSOJ1562 丑数 | Continue的博客 - Atom Feed" href="https://MrContinue.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="
Description
丑数是指素因子都在集合{2,3,5,7}内的整数，第一个丑数是1。
现在输入n(n&lt;=4000)，输出第n个丑数。

Input
输入文件仅一行为一个整数n。

Output
输出文件仅一行为一个整数，表示第..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://MrContinue.github.io">
  <img class="avatar" src="https://MrContinue.github.io/images/avatar.png?v=1586778467481" alt="">
  </a>
  <h1 class="site-title">
    Continue的博客
  </h1>
  <p class="site-description">
    请你照亮我前进的路
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="https://MrContinue.github.io/post/about-me" class="menu">
          About Me
        </a>
      
    
      
        <a href="https://MrContinue.github.io/post/wo-de-hao-peng-you-meng" class="menu">
          我的好朋友萌！（友链）
        </a>
      
    
      
        <a href="https://MrContinue.github.io/post/lian-xi-wo" class="menu">
          联系方式
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/MrContinue" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
    
      
        <a href="https://www.zhihu.com/people/gradually-disappear" target="_blank">
          <i class="ri-zhihu-line"></i>
        </a>
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              BSOJ1562 丑数
            </h2>
            <div class="post-info">
              <span>
                2020-04-11
              </span>
              <span>
                4 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <figure data-type="image" tabindex="1"><img src="https://MrContinue.github.io/post-images/1586601109418.jpg" alt="" loading="lazy"></figure>
<h2 id="description"><strong>Description</strong></h2>
<pre><code>丑数是指素因子都在集合{2,3,5,7}内的整数，第一个丑数是1。
现在输入n(n&lt;=4000)，输出第n个丑数。
</code></pre>
<h2 id="input"><strong>Input</strong></h2>
<pre><code>输入文件仅一行为一个整数n。
</code></pre>
<h2 id="output"><strong>Output</strong></h2>
<pre><code>输出文件仅一行为一个整数，表示第n个丑数。
</code></pre>
<h2 id="sample-input"><strong>Sample Input</strong></h2>
<pre><code>5
</code></pre>
<h2 id="sample-output"><strong>Sample Output</strong></h2>
<pre><code>5
</code></pre>
<hr>
<h3 id="这道题窝先打的stl优先队列-然后全wa"><strong>这道题窝先打的STL优先队列 然后全WA。。。。</strong></h3>
<p>看了前辈的<strong>打表程序</strong> 对拍了一下 发现很有问题（废话</p>
<p>后来发现问题出在 <strong>丑数集合中不能有重复数字</strong></p>
<p>即 <strong>一个相同的数可能被视作多个数</strong></p>
<p>于是乎就短暂的考虑了<strong>桶</strong>。。。。</p>
<p>当开始试验的时候憨憨癌发作 以为数组只用开4000就OK</p>
<p>后来发现事情没那么简单。。。。。</p>
<p><strong>这个桶应该开到第4000个丑数的值那么大</strong></p>
<p>前辈的打表程序发现是<strong>2亿多</strong>。。。。。。</p>
<p><strong><s>（MLE的芳香！</s></strong></p>
<p>于是飞快放弃了。。。。</p>
<p>最后选用的是<strong>C++自带的超强的set函数</strong></p>
<p>先上网自学了一波 知道了<strong>set函数具有去重+排序的美妙功能</strong></p>
<p><strong>非常符合这道题的要求啊！</strong></p>
<p>于是自学set过后A了这道水题。。。。。。</p>
<p><strong>果然还是窝太菜了QAQ</strong></p>
<h3 id="set效率很高的-不愧是c">set效率很高的 不愧是C++</h3>
<p><a href="https://www.cnblogs.com/caiyishuai/p/8646345.html">自学set的文章网址</a></p>
<p>然后就是<strong>0ms</strong>AC代码：</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;set&gt; 

#define maxn 1005
using namespace std;

set &lt;int&gt; a; 

int main()
{
	a.insert(1);
    //先插入堆顶操作元素
	int n;
	cin&gt;&gt;n;
	for(int i=2;i&lt;=n;i++)
    //因为初始化堆顶视为一次操作 所以从i=2开始
	{
		int num=*a.begin();
        //先定义一个变量储存当前堆顶
        //其实和指针没关系的。。。。
		a.insert(num*2);
        //分别插入操作数 set会自行排序维护根堆
		a.insert(num*3);
		a.insert(num*5);
		a.insert(num*7);
		a.erase(a.begin());
        //再将堆顶弹出
	}
	cout&lt;&lt;*a.begin()&lt;&lt;endl;
    //最后的堆顶就是答案啦~~~
	return 0;
}
</code></pre>
<p>有什么疑问可以问窝 但是窝很菜的。。。</p>
<p><s>CSP普及才Au宁敢问吗</s></p>
<hr>
<h3 id="2020年2月9日1019更新">2020年2月9日10:19更新</h3>
<p>在听了did讲课过后 窝知道了<strong>这道题其实可以不用set 而且没必要</strong></p>
<p><s>毕竟这就是一道堆练习嘛</s></p>
<p>窝再梳理了一下我的心路历程 发现实际上窝离正<s>常</s>确方法就差那么一丢丢</p>
<p>这道题的确要考虑到<strong>去重</strong></p>
<p>但没有必要用set去重 因为正如did所说的一样：</p>
<pre><code>“宁现在用了set，以后不能用set的时候宁怎么办？”
</code></pre>
<p>所以<strong>可以直接在堆的代码里加入少量的<s>盐</s>去重算法以达到同样效果</strong></p>
<p>代码：</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;queue&gt;

#define maxn 1005
using namespace std;

priority_queue &lt;int,vector&lt;int&gt;,greater&lt;int&gt; &gt; a;
//定义一个小根堆
//这里使用的食材（bushi）工具是STL
//各位大佬可以自己手写堆 勿喷蒟蒻

int main()
{
	a.push(1);
	int n;
	cin&gt;&gt;n;
	for(int i=2;i&lt;=n;i++)
	{ 
		int num=a.top();
        //拿出堆顶元素 即操作数
		a.push(num*2);a.push(num*3);
        //放入其他丑数
		a.push(num*5);a.push(num*7);
		while(a.top()==num) a.pop();
        //去重 只要相同就pop
	}
	cout&lt;&lt;a.top()&lt;&lt;endl;
    //最后的堆顶就是第n个丑数啦~~~
	return 0;
}
</code></pre>
<h2 id="提交过后性能分析">提交过后性能分析</h2>
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">Time</th>
<th style="text-align:right">Memory</th>
<th style="text-align:right">Length</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">堆</td>
<td style="text-align:right">0ms</td>
<td style="text-align:right">1863KB</td>
<td style="text-align:right">0.39KB</td>
</tr>
<tr>
<td style="text-align:right">set</td>
<td style="text-align:right">0ms</td>
<td style="text-align:right">1997KB</td>
<td style="text-align:right">0.34KB</td>
</tr>
</tbody>
</table>
<p><strong>综上分析 堆更优</strong></p>
<p>堆的好处：易懂 易想 耗时较少</p>
<p>set的好处：好写 方便 码量较少</p>
<hr>
<h2 id="求点赞qaq不容易啊">求点赞QAQ不容易啊</h2>
<pre><code>常见疑问一：
OI上可以用set吗？
回答：
应该可以 但我没用过（
常见疑问二：
你BB太多 可以举报吗？
回答：
QAQ！！！不看就行啦！！！
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#description"><strong>Description</strong></a></li>
<li><a href="#input"><strong>Input</strong></a></li>
<li><a href="#output"><strong>Output</strong></a></li>
<li><a href="#sample-input"><strong>Sample Input</strong></a></li>
<li><a href="#sample-output"><strong>Sample Output</strong></a>
<ul>
<li><a href="#%E8%BF%99%E9%81%93%E9%A2%98%E7%AA%9D%E5%85%88%E6%89%93%E7%9A%84stl%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97-%E7%84%B6%E5%90%8E%E5%85%A8wa"><strong>这道题窝先打的STL优先队列 然后全WA。。。。</strong></a></li>
<li><a href="#set%E6%95%88%E7%8E%87%E5%BE%88%E9%AB%98%E7%9A%84-%E4%B8%8D%E6%84%A7%E6%98%AFc">set效率很高的 不愧是C++</a></li>
<li><a href="#2020%E5%B9%B42%E6%9C%889%E6%97%A51019%E6%9B%B4%E6%96%B0">2020年2月9日10:19更新</a></li>
</ul>
</li>
<li><a href="#%E6%8F%90%E4%BA%A4%E8%BF%87%E5%90%8E%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90">提交过后性能分析</a></li>
<li><a href="#%E6%B1%82%E7%82%B9%E8%B5%9Eqaq%E4%B8%8D%E5%AE%B9%E6%98%93%E5%95%8A">求点赞QAQ不容易啊</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://MrContinue.github.io/post/bsoj1495-shi-la-ji-de-ji-qi-ren-3541/">
              <h3 class="post-title">
                BSOJ1495 拾垃圾的机器人3541
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'adc657b4279d628135fa',
    clientSecret: 'f1ef8bc9a885f46ca98b54e7770c0c58c6ef1b72',
    repo: 'mrcontinue.github.io',
    owner: 'continue',
    admin: ['continue'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://MrContinue.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
